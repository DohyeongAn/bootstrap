<!doctype html>
<html lang="en">

<head>
	<title>회원가입</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.5.0/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
  <div class="container">
    <h2>회원가입</h2>
    <form id="signup-form">
      <div class="mb-3">
        <label for="username" class="form-label">사용자명:</label>
        <input type="text" class="form-control" id="username" required>
      </div>
      <div class="mb-3">
        <label for="password" class="form-label">비밀번호:</label>
        <input type="password" class="form-control" id="password" required>
      </div>
      <div class="mb-3">
        <label for="confirm-password" class="form-label">비밀번호 확인:</label>
        <input type="password" class="form-control" id="confirm-password" required>
      </div>
      <button type="submit" class="btn btn-primary">가입</button>
    </form>
  </div>

  <script type="text/javascript">
    $(document).ready(function() {
      $("#signup-form").submit(function(event) {
        event.preventDefault();

        var username = $("#username").val();
        var password = $("#password").val();
        var confirmPassword = $("#confirm-password").val();

        if (username === "" || password === "" || confirmPassword === "") {
          alert("모든 필드를 입력하세요.");
          return;
        }

        if (password !== confirmPassword) {
          alert("비밀번호와 비밀번호 확인이 일치하지 않습니다.");
          return;
        }

        // 회원가입 처리 로직
        $.ajax({
          url: "http://localhost:3000/signup",
          method: "POST",
          contentType: "application/json",
          data: JSON.stringify({
            username: username,
            password: password
          }),
          success: function(response) {
            alert("회원가입이 완료되었습니다.");
            $("#signup-form")[0].reset();
          },
          error: function(xhr, status, error) {
            alert("회원가입 중 오류가 발생했습니다. 다시 시도해주세요.");
            console.log("Error:", error);
          }
        });
      });
    });
  </script>
</body>
	

</html>